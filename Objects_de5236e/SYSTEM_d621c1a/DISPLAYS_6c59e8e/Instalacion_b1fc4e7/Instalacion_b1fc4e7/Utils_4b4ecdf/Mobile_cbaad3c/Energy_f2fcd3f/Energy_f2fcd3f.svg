<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="402" version="1.2" width="646" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <rect atv:refpx="323.238" atv:refpy="165.885" fill="#ffffff" height="329.769" id="id_16" stroke="#000000" stroke-width="2" width="643.525" x="1.475" y="1"/>
 <rect atv:refpx="484.272" atv:refpy="40.347" fill="#e8e8e8" height="64.502" id="id_5" stroke="#000000" stroke-opacity="0" stroke-width="2" width="321.463" x="322.155" y="2.233"/>
 <rect atv:refpx="162.27" atv:refpy="34.484" fill="#e8e8e8" height="64.502" id="id_0" stroke="#000000" stroke-opacity="0" stroke-width="2" width="319.598" x="2.471" y="2.233"/>
 <rect atv:refpx="321.729" atv:refpy="100.966" fill="#ffffff" height="66.517" id="id_1" stroke="#000000" stroke-width="2" width="640.211" x="1.623" y="67.708"/>
 <rect atv:refpx="322.256" atv:refpy="167.56" fill="#ffffff" height="66.517" id="id_2" stroke="#000000" stroke-width="2" width="640.211" x="2.151" y="134.302"/>
 <rect atv:refpx="373.629" atv:refpy="104.616" fill="#e8e8e8" height="63.493" id="id_12" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="320.79" y="69.984"/>
 <rect atv:refpx="321.735" atv:refpy="234.775" fill="#ffffff" height="66.517" id="id_3" stroke="#000000" stroke-width="2" width="640.211" x="1.63" y="200.509"/>
 <rect atv:refpx="373.629" atv:refpy="170.308" fill="#e8e8e8" height="63.493" id="id_13" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="320.79" y="135.676"/>
 <rect atv:refpx="322.252" atv:refpy="300.553" fill="#ffffff" height="66.517" id="id_6" stroke="#000000" stroke-width="2" width="640.211" x="2.146" y="267.294"/>
 <rect atv:refpx="373.629" atv:refpy="236.517" fill="#e8e8e8" height="63.493" id="id_14" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="320.79" y="201.885"/>
 <rect atv:refpx="55.529" atv:refpy="233.631" fill="#e8e8e8" height="63.493" id="id_10" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="2.691" y="201.885"/>
 <rect atv:refpx="55.529" atv:refpy="300.844" fill="#e8e8e8" height="63.493" id="id_11" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="2.691" y="269.097"/>
 <rect atv:refpx="373.629" atv:refpy="303.73" fill="#e8e8e8" height="63.493" id="id_15" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="320.79" y="269.097"/>
 <rect atv:refpx="56.597" atv:refpy="101.569" fill="#e8e8e8" height="63.493" id="id_8" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="2.691" y="69.822"/>
 <rect atv:refpx="56.427" atv:refpy="167.422" fill="#e8e8e8" height="63.493" id="id_9" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.677" x="3.589" y="135.676"/>
 <g atv:refpx="199.443" atv:refpy="34.387" id="id_31" transform="matrix(1.0674,0,0,1.0078,-0.0674,-0.0078)">
  <polygon atv:refpx="27.553" atv:refpy="34.127" fill="#ffffff" id="id_19" points="15.994,37.724 26.783,37.724 15.994,59.813 39.111,31.045 26.783,31.045 37.571,8.442" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
  <svg atv:refpx="332.662" atv:refpy="34.127" fill="#ffffff" height="40" id="id_17" stroke="#ffffff" transform="matrix(1.2569,0,0,1,0,0)" width="40" x="244.679" xlink:href="SYSTEM.LIBRARY.PROJECT.RESOURCES%2FSVG%20WIFI.svg" y="14.127"/>
 </g>
 <text atv:refpx="551.38" atv:refpy="37.914" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_18" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-34.3097,-0.1313)" x="618.183" y="42.25">timestamp</text>
 <text atv:refpx="221.337" atv:refpy="37.914" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_7" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-12.0489,-0.1313)" x="288.139" y="42.25">timestamp</text>
 <text atv:refpx="21.841" atv:refpy="311.639" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_23" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-0.1396,-2.1745)" x="29.07" y="315.873">P</text>
 <text atv:refpx="368.358" atv:refpy="311.639" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_27" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-22.7161,-2.1745)" x="385.795" y="315.873">FP</text>
 <text atv:refpx="21.358" atv:refpy="109.632" fill="#ee252e" font-family="Arial" font-size="36" font-weight="bold" id="id_20" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-0.1396,-0.5908)" x="31.07" y="113.865">V</text>
 <text atv:refpx="45.142" atv:refpy="109.632" fill="#ee252e" font-family="Arial" font-size="18" font-weight="bold" id="id_28" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-1.8793,-0.7251)" x="32.363" y="113.999">L1-L2</text>
 <text atv:refpx="19.691" atv:refpy="151.032" fill="#fdae01" font-family="Arial" font-size="36" font-weight="bold" id="id_32" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-0.1396,-1.115)" x="31.07" y="180.727">V</text>
 <text atv:refpx="58.754" atv:refpy="174.773" fill="#fdae01" font-family="Arial" font-size="18" font-weight="bold" id="id_33" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-1.9469,-1.2516)" x="80.366" y="181.155">L2-L3</text>
 <text atv:refpx="45.222" atv:refpy="133.317" fill="#0282cc" font-family="Arial" font-size="36" font-weight="bold" id="id_35" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-0.1396,-1.6452)" x="31.07" y="248.36">V</text>
 <text atv:refpx="86.583" atv:refpy="133.317" fill="#0282cc" font-family="Arial" font-size="18" font-weight="bold" id="id_36" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-2.0233,-1.7795)" x="80.498" y="248.493">L3-L1</text>
 <text atv:refpx="186.975" atv:refpy="122.61" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_38" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-22.7161,-0.5908)" x="348.795" y="113.865">I</text>
 <text atv:refpx="368.913" atv:refpy="107.616" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_39" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-23.8385,-0.7251)" x="376.935" y="113.999">L1</text>
 <text atv:refpx="184.487" atv:refpy="113.896" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_41" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-22.7161,-1.115)" x="348.795" y="180.727">I</text>
 <text atv:refpx="368.913" atv:refpy="174.773" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_42" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-23.8385,-1.2516)" x="377.935" y="181.155">L2</text>
 <text atv:refpx="188.041" atv:refpy="109.212" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_44" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-22.7161,-1.6452)" x="348.795" y="248.36">I</text>
 <text atv:refpx="368.913" atv:refpy="242.11" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_45" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-23.8385,-1.7795)" x="377.935" y="248.493">L3</text>
 <text atv:refpx="67.385" atv:refpy="201.186" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_46" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-2.0233,-2.3116)" x="62.998" y="316.362">Act</text>
 <text atv:refpx="252.179" atv:refpy="109.632" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_47" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-14.8149,-0.5908)" x="264.65" y="113.865">E1</text>
 <text atv:refpx="293.905" atv:refpy="109.632" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_49" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-18.5223,-0.6935)" x="278.616" y="113.967">V</text>
 <text atv:refpx="293.905" atv:refpy="175.616" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_50" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-18.5223,-1.2108)" x="278.616" y="179.952">V</text>
 <text atv:refpx="293.905" atv:refpy="243.118" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_51" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-18.5223,-1.74)" x="278.616" y="247.454">V</text>
 <text atv:refpx="314.947" atv:refpy="311.232" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_52" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-18.5223,-2.274)" x="278.616" y="315.568">KW</text>
 <text atv:refpx="247.909" atv:refpy="176.493" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_53" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-14.6709,-1.115)" x="264.515" y="180.727">E2</text>
 <text atv:refpx="247.909" atv:refpy="244.126" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_54" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-14.6709,-1.6452)" x="264.515" y="248.36">E3</text>
 <text atv:refpx="257.568" atv:refpy="311.639" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_55" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-16.1109,-2.1745)" x="265.864" y="315.873">P</text>
 <text atv:refpx="569.279" atv:refpy="107.616" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_56" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-36.7941,-0.575)" x="575.518" y="111.85">I1</text>
 <text atv:refpx="603.761" atv:refpy="107.616" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_57" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-39.4215,-0.6777)" x="588.472" y="111.952">A</text>
 <text atv:refpx="603.761" atv:refpy="173.601" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_58" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-39.4215,-1.195)" x="588.472" y="177.936">A</text>
 <text atv:refpx="603.761" atv:refpy="241.103" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_59" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-39.4215,-1.7242)" x="588.472" y="245.438">A</text>
 <text atv:refpx="591.642" atv:refpy="309.216" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_60" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-39.4215,-2.2582)" x="588.472" y="313.552"/>
 <text atv:refpx="565.01" atv:refpy="174.477" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_61" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-36.6501,-1.0992)" x="575.383" y="178.711">I2</text>
 <text atv:refpx="565.01" atv:refpy="242.11" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_62" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-36.6501,-1.6294)" x="575.383" y="246.344">I3</text>
 <text atv:refpx="556.8" atv:refpy="309.624" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_63" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-35.4262,-2.1587)" x="574.237" y="313.857">FP</text>
 <rect atv:refpx="323.234" atv:refpy="367.741" fill="#ffffff" height="66.517" id="id_21" stroke="#000000" stroke-width="2" width="642.176" x="2.146" y="334.483"/>
 <rect atv:refpx="55.702" atv:refpy="367.477" fill="#e8e8e8" height="63.493" id="id_22" stroke="#000000" stroke-opacity="0" stroke-width="2" width="105.096" x="3.153" y="335.731"/>
 <polygon atv:refpx="54.539" atv:refpy="371.395" fill="#8e8e8e" id="id_24" points="34.825,385.828 56.055,346.884 74.252,385.254 74.252,385.254 74.252,385.254" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
 <text atv:refpx="604.572" atv:refpy="369.884" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_25" text-anchor="start" transform="matrix(1.0674,0,0,1.0078,-39.2055,-2.7338)" x="585.77" y="374.22">%</text>
 <text atv:refpx="283.542" atv:refpy="374.42" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_26" text-anchor="start" transform="matrix(1.0609,0,0,1.0078,-6.6963,-2.6666)" x="115.39" y="378.653">Estatus P. Emerg</text>
 <text atv:refpx="544.242" atv:refpy="374.42" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_29" text-anchor="end" transform="matrix(1.0674,0,0,1.0078,-33.5543,-2.6666)" x="572.483" y="378.653">Fuel</text>
 <rect atv:refpx="162.121" atv:refpy="168.894" fill="#000000" fill-opacity="0" height="199.103" id="id_30" stroke="#000000" stroke-width="2" width="318.687" x="2.777" y="69.343"/>
 <rect atv:refpx="483.45" atv:refpy="166.657" fill="#000000" fill-opacity="0" height="199.103" id="id_34" stroke="#000000" stroke-width="2" width="320.652" x="323.124" y="68.113"/>
 <rect atv:refpx="161.528" atv:refpy="301.443" fill="#000000" fill-opacity="0" height="63.758" id="id_37" stroke="#000000" stroke-width="2" width="321.056" x="1" y="269.564"/>
 <rect atv:refpx="483.769" atv:refpy="300.884" fill="#000000" fill-opacity="0" height="63.758" id="id_40" stroke="#000000" stroke-width="2" width="321.056" x="323.241" y="269.005"/>
 <rect atv:refpx="322.446" atv:refpy="33.343" fill="#000000" fill-opacity="0" height="64.685" id="id_43" stroke="#000000" stroke-width="2" width="642.893" x="1" y="1"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_18";
var value = e.timestamp;

const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_7";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_5";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_0";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});


webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L1-L2", function(e) {
var id = "id_47";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L2-L3", function(e) {
var id = "id_53";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L3-L1", function(e) {
var id = "id_54";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L1", function(e) {
var id = "id_56";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L2", function(e) {
var id = "id_61";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L3", function(e) {
var id = "id_62";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});
webMI.data.subscribe(webMI.query["base"] + ".Potencia_Activa", function(e) {
var id = "id_55";
var value = e.value;
if (value > 1000) {
value = value/1000;
}


webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".FP", function(e) {
var id = "id_63";
var value = e.value;

if (value > 1)
	{
	value = value/100;
	}
	
webMI.gfx.setText(id, webMI.sprintf("%.2f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".energy", function(e) {
var id = "id_26";
var idd = "id_24";
var value = e.value;
if (value ==1)
	{
	webMI.gfx.setText(id, webMI.sprintf("Operando con CFE"));
	webMI.gfx.setFill(idd, "#1a8b22");
	}
	if (value ==2)
	{
	webMI.gfx.setText(idd, webMI.sprintf("Operando con P.E."));
	webMI.gfx.setFill(idd, "#0000cc");
	}
	if (value ==3)
	{
	webMI.gfx.setText(idd, webMI.sprintf("Sin energÃ­a"));
	webMI.gfx.setFill(idd, "#ffff00");
	webMI.gfx.setVisible(idd, {0:true,3:false,6:true,9:false});
	}
	if (value ==4)
	{
	webMI.gfx.setText(idd, webMI.sprintf("ERROR CFE y P.E. Operando"));
	webMI.gfx.setFill(idd, "#ff0000");
	}
	
	
	
	


});


webMI.addEvent("id_30", "click", function(e) {
var id = "id_30";
var value = true;
webMI.display.openWindow({display:"SYSTEM.DISPLAYS.VoltajeMain",extern:false,height:575,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Grafico de Voltaje General}",toolbar:false,width:1920,query:webMI.query});
});



webMI.addEvent("id_34", "click", function(e) {
var id = "id_34";
var value = true;
webMI.display.openWindow({display:"SYSTEM.DISPLAYS.CorrienteMain",extern:false,height:575,menubar:false,modal:false,movable:true,resizable:true,scrollbars:false,status:false,title:"T{Grafico de Corriente General}",toolbar:false,width:1920,query:webMI.query});
});


webMI.addEvent("id_37", "click", function(e) {
var id = "id_37";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.PotenciaMain", webMI.query, "tendencias");
});
webMI.addEvent("id_40", "click", function(e) {
var id = "id_40";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.FPMain", webMI.query, "tendencias");
});




]]></script>
</svg>
