<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="350" version="1.2" width="600" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:parameter behavior="optional" defaultvalue="" desc="DashboardID" name="DashboardID" valuetype="string"/>
  <atv:parameter behavior="optional" defaultvalue="" desc="LBackgroundColor" name="LBackgroundColor" substitute="$LBackgroundColor$" valuetype="global"/>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <g atv:insensitive="true" atv:refpx="0" atv:refpy="0" id="id_1">
  <rect atv:refpx="300" atv:refpy="175" fill="#ffffff" height="350.00" id="id_2" width="600.00" x="0" y="0"/>
 </g>
 <text atv:refpx="264.5" atv:refpy="216.553" fill="#c6c6c6" font-family="Arial" font-size="28" id="id_4" x="236" y="221.053">Loading....</text>
 <image atv:refpx="300" atv:refpy="134.736" height="232" id="id_0" transform="matrix(0.4744,0,0,0.4744,0,0)" width="233" x="515.895" xlink:href="../../Advanced_Dashboard_Animations/Loading_2.gif" y="168.021"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[//Access Parameters from Source
var loadingParameters={
			  GeneralConfig: {
					DashboardID: webMI.query["DashboardID"],
			},			
			Appereance:{
					BackgroundColor:webMI.query["LBackgroundColor"]
			}
	}


//------Initial Conditions-----------//
webMI.addOnload(function() {

	//Create Loading Manager
	const loadingDisplayManager1= new loadingDisplayManager(loadingParameters);
	
	//Initialize UI Handler
	loadingDisplayManager1.initialize();
    
});


class loadingDisplayManager{

    // Constructor
    constructor(loadingParameters) {
		this.DashboardID=loadingParameters.GeneralConfig.DashboardID;
		this.BackgroundRef=document.getElementById("id_2");
		this.BackgroundColor=loadingParameters.Appereance.BackgroundColor;
		this.Action;
    }
    
    initialize() {
			//Set Background
			this.setBackgroundColor();
			console.log("--------Setting Loading Background-------");
    }
    
    addListeners() {
	
    }
    
    setBackgroundColor(){
		// Change the fill color to red
		if (this.BackgroundRef) {
			this.BackgroundRef.setAttribute("fill", this.BackgroundColor);
			this.BackgroundRef.setAttribute("rx", "5");  // Horizontal corner radius
		    this.BackgroundRef.setAttribute("ry", "5");  // Vertical corner radius		
			
		} else {
			console.log("Rectangle element not found!");
		}
    }
}]]></script>
</svg>
