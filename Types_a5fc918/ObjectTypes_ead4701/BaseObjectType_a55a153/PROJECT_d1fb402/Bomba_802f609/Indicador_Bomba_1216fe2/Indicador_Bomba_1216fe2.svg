<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="25" version="1.2" width="25" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <g atv:insensitive="true" atv:refpx="0" atv:refpy="0" id="id_0" transform="matrix(0.0195,0,0,0.0326,0,0)">
  <rect atv:refpx="640" atv:refpy="384" fill="#0000ff" fill-opacity="0" height="768.00" id="id_1" width="1280.00" x="0" y="0"/>
 </g>
 <circle atv:refpx="12.5" atv:refpy="12.5" cx="12.5" cy="12.5" fill="#d9d9d9" id="id_2" r="10.5" stroke="#000000" stroke-width="3"/>
 <text atv:refpx="11.5" atv:refpy="14.5" fill="#000000" font-family="Arial" font-size="18" id="id_3" text-anchor="middle" x="12.5" y="19">S</text>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[
webMI.data.subscribe(webMI.query["base"] + ".MA", function(e) {
var id = "id_3";
var value = e.value;
if (value == true)
	webMI.gfx.setText(id, "T{A}");
if (value == false)
	webMI.gfx.setText(id, "T{M}");
	
});

webMI.alarm.subscribe(webMI.query["base"] + ".status.STS.On_Off", function(e) {
    var value = e.state;
    if (value == 0)
        webMI.gfx.setFill("id_2", "#929292");
    if (value == 1)
		webMI.gfx.setFill("id_2", "#61d366");
    if (value == 2)
        webMI.gfx.setFill("id_2", "#61d366");
    if (value == 3)
        webMI.gfx.setFill("id_2", "#929292");
    if (value == 5)
        console.log("State of alarm changed to On Off, Unacknowledged!");
});





webMI.alarm.subscribe(webMI.query["base"] + ".fault.Falla.Falla general", function(e) {
	id = "id_2";
    var value = e.state;
    if (value == 0)
        webMI.gfx.setVisible("id_2", true);
    if (value == 1)
        {
			webMI.gfx.setVisible("id_2", {0:true,1:false,2:true,3:false,4:true,5:false,6:true,7:false,8:true,9:false,10:true,11:false});
			webMI.gfx.setVisible("id_3", {0:true,1:false,2:true,3:false,4:true,5:false,6:true,7:false,8:true,9:false,10:true,11:false});
			webMI.gfx.setFill("id_2", "#ff0000");
		}
    if (value == 2)
         {
			webMI.gfx.setVisible("id_2", {0:true,1:false,2:true,3:false,4:true,5:false,6:true,7:false,8:true,9:false,10:true,11:false});
			webMI.gfx.setVisible("id_3", {0:true,1:false,2:true,3:false,4:true,5:false,6:true,7:false,8:true,9:false,10:true,11:false});
			webMI.gfx.setFill("id_2", "#efff60");
		}
    if (value == 3)
        webMI.gfx.setVisible("id_2", true);
    if (value == 5)
        console.log("State of alarm changed to On Off, Unacknowledged!");
});

webMI.alarm.subscribe(webMI.query["base"] + ".Alarma_Local.LR.Estado", function(e) {
    var value = e.state;
    if (value == 0)
        webMI.gfx.setStroke("id_2", "#1e9eff");
    if (value == 1)
		webMI.gfx.setStroke("id_2", "#ffab4a");
    if (value == 2)
        webMI.gfx.setStroke("id_2", "#ffab4a");
    if (value == 3)
        webMI.gfx.setStroke("id_2", "#1e9eff");
    if (value == 5)
        console.log("State of alarm changed to On Off, Unacknowledged!");
});

]]></script>
</svg>
